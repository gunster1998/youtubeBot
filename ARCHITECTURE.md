# Архитектура YouTube Bot

## Структура проекта

```
youtubeBot/
├── cmd/
│   └── bot/
│       └── main.go          # Точка входа в приложение
├── config/
│   └── config.go            # Конфигурация и загрузка переменных окружения
├── handlers/
│   └── telegram.go          # Обработчики Telegram сообщений
├── services/
│   └── youtube.go           # Сервис для работы с YouTube
├── utils/
│   └── helpers.go           # Вспомогательные функции
├── config.env               # Файл с переменными окружения
├── go.mod                   # Зависимости Go
└── README.md                # Основная документация
```

## Описание модулей

### cmd/bot/main.go
Основная точка входа в приложение. Инициализирует все сервисы и запускает бота.

### config/config.go
Модуль для загрузки конфигурации из файла `.env` и переменных окружения.

### handlers/telegram.go
Обработчики входящих сообщений Telegram. Содержит логику для команд `/start`, `/help`, `/download`.

### services/youtube.go
Сервис для работы с YouTube через `yt-dlp`. Отвечает за скачивание видео.

### utils/helpers.go
Вспомогательные функции для работы с URL, именами файлов и валидацией.

## Принципы архитектуры

1. **Разделение ответственности** - каждый модуль отвечает за свою область
2. **Dependency Injection** - зависимости передаются через конструкторы
3. **Интерфейсы** - сервисы могут быть легко заменены на моки для тестирования
4. **Конфигурация** - все настройки вынесены в отдельный модуль
5. **Логирование** - централизованное логирование через стандартный `log` пакет

## Запуск

```bash
# Сборка
go build -o youtubeBot cmd/bot/main.go

# Запуск
source config.env && ./youtubeBot
```

## Добавление новых функций

1. **Новые команды** - добавляйте в `handlers/telegram.go`
2. **Новые сервисы** - создавайте в папке `services/`
3. **Новые утилиты** - добавляйте в `utils/helpers.go`
4. **Новые настройки** - расширяйте `config/config.go`
