# üé¨ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID –¥–ª—è YouTube Shorts**

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**
YouTube Shorts —Å–∫–∞—á–∏–≤–∞–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ, –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è `extractVideoID` –Ω–µ –º–æ–≥–ª–∞ –∏–∑–≤–ª–µ—á—å ID –∏–∑ URL Shorts:
```
‚ùå –ü–æ–ø—ã—Ç–∫–∞ 1/3 –Ω–µ—É–¥–∞—á–Ω–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å ID –≤–∏–¥–µ–æ –∏–∑ URL: https://www.youtube.com/shorts/k2qtBCZCuJ0
```

## üîç **–ü—Ä–∏—á–∏–Ω–∞:**
–§—É–Ω–∫—Ü–∏—è `extractVideoID` –≤ `services/youtube.go` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∞ –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è YouTube Shorts:
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∏—Å—å:** `youtube.com/watch?v=`, `youtu.be/`, `youtube.com/embed/`
- **–ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∏—Å—å:** `youtube.com/shorts/`

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

### **–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è YouTube Shorts:**
```go
// –°–¢–ê–†–´–ô –ö–û–î
patterns := []string{
    `youtube\.com/watch\?v=([a-zA-Z0-9_-]+)`,
    `youtu\.be/([a-zA-Z0-9_-]+)`,
    `youtube\.com/embed/([a-zA-Z0-9_-]+)`,
}

// –ù–û–í–´–ô –ö–û–î
patterns := []string{
    `youtube\.com/watch\?v=([a-zA-Z0-9_-]+)`,
    `youtu\.be/([a-zA-Z0-9_-]+)`,
    `youtube\.com/embed/([a-zA-Z0-9_-]+)`,
    `youtube\.com/shorts/([a-zA-Z0-9_-]+)`, // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
}
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è `extractVideoID` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:**
- ‚úÖ `https://www.youtube.com/watch?v=VIDEO_ID` - –æ–±—ã—á–Ω—ã–µ –≤–∏–¥–µ–æ
- ‚úÖ `https://youtu.be/VIDEO_ID` - –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏
- ‚úÖ `https://www.youtube.com/embed/VIDEO_ID` - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
- ‚úÖ `https://www.youtube.com/shorts/VIDEO_ID` - **YouTube Shorts** (–Ω–æ–≤–æ–µ!)

### **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ:** `yt-dlp` —É—Å–ø–µ—à–Ω–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç Shorts ‚Üí `k2qtBCZCuJ0_398.mp4`
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ ID:** `extractVideoID` —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç `k2qtBCZCuJ0` –∏–∑ URL
3. **–ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞:** `findDownloadedFile` –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É `videoID_formatID`
4. **–û—Ç–ø—Ä–∞–≤–∫–∞:** –í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## üöÄ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### **–§–∞–π–ª:** `services/youtube.go`, —Å—Ç—Ä–æ–∫–∞ 707
```go
func extractVideoID(url string) string {
    patterns := []string{
        `youtube\.com/watch\?v=([a-zA-Z0-9_-]+)`,
        `youtu\.be/([a-zA-Z0-9_-]+)`,
        `youtube\.com/embed/([a-zA-Z0-9_-]+)`,
        `youtube\.com/shorts/([a-zA-Z0-9_-]+)`, // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
    }
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
}
```

### **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:**
- `youtube\.com/shorts/` - —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å URL Shorts
- `([a-zA-Z0-9_-]+)` - –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç ID –≤–∏–¥–µ–æ (11 —Å–∏–º–≤–æ–ª–æ–≤)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ YouTube ID

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üé¨ **YouTube Shorts —Ä–∞–±–æ—Ç–∞—é—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫
- üîç **ID –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑ URL
- üìÅ **–§–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è** –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –∏–º–µ–Ω–∏
- üöÄ **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è** —É—Å–ø–µ—à–Ω–æ

**–ú–∞–º–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!** üíö YouTube Shorts —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∏–¥–µ–∞–ª—å–Ω–æ!
