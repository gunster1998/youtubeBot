# üé¨ YouTube Bot - –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å SOCKS5 –ø—Ä–æ–∫—Å–∏

Telegram –±–æ—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ —Å YouTube —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SOCKS5 –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ –†–æ—Å—Å–∏–∏.

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ

- ‚úÖ **SOCKS5 –ø—Ä–æ–∫—Å–∏**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ sing-box –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ **–ï–¥–∏–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç .env
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ü—Ä–æ–∫—Å–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è/–≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ USE_PROXY
- ‚úÖ **–ê–Ω—Ç–∏-429 –∑–∞—â–∏—Ç–∞**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è yt-dlp
- ‚úÖ **–°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –û–¥–∏–Ω —Ñ–∞–π–ª .env –¥–ª—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/gunster1998/youtubeBot.git
cd youtubeBot

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x *.sh scripts/*.sh
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
nano .env
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env:**

```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞
TELEGRAM_BOT_TOKEN=your_bot_token_here

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏
USE_PROXY=true
PROXY_URL=socks5h://127.0.0.1:1080
NO_PROXY=localhost,127.0.0.1,172.16.0.0/12,192.168.0.0/16
```

### 3. –ó–∞–ø—É—Å–∫

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
./quick_start_proxy.sh

# –ò–ª–∏ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
go run cmd/bot/main.go
```

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–æ–∫—Å–∏

### 1. yt-dlp

–í—Å–µ –≤—ã–∑–æ–≤—ã yt-dlp –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–∫—Å–∏:

```go
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è --proxy –∞—Ä–≥—É–º–µ–Ω—Ç
args := []string{"--proxy", "socks5h://127.0.0.1:1080"}
```

**–ê–Ω—Ç–∏-429 –∑–∞–¥–µ—Ä–∂–∫–∏:**
- `--sleep-requests 1` - –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- `--sleep-interval 1` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–∞—É–∑–∞
- `--max-sleep-interval 3` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–∞—É–∑–∞

### 2. HTTP –∫–ª–∏–µ–Ω—Ç—ã

–í—Å–µ HTTP –∫–ª–∏–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é —Å—Ö–µ–º—É –ø—Ä–æ–∫—Å–∏:

```go
// –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø—Ä–æ–∫—Å–∏
client := &http.Client{
    Transport: &http.Transport{
        Proxy: http.ProxyURL(proxyURL),
    },
}
```

### 3. Telegram API

HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Telegram API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏:

```go
// –í main.go
if cfg.Proxy != nil && cfg.Proxy.UseProxy {
    httpClient = cfg.Proxy.CreateHTTPClient()
}
```

### 4. curl –∫–æ–º–∞–Ω–¥—ã

–í—Å–µ curl –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–∫—Å–∏:

```go
// –í CheckNetwork()
args := []string{"--proxy", "socks5h://127.0.0.1:1080"}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫
go run scripts/selftest.go

# –ò–ª–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
./scripts/run_selftest.sh
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏ –∏–∑ .env
- ‚úÖ HTTP –∫–ª–∏–µ–Ω—Ç —Å –ø—Ä–æ–∫—Å–∏
- ‚úÖ yt-dlp —Å –ø—Ä–æ–∫—Å–∏
- ‚úÖ curl —Å –ø—Ä–æ–∫—Å–∏
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç yt-dlp —Å –ø—Ä–æ–∫—Å–∏
yt-dlp --proxy socks5h://127.0.0.1:1080 -s "https://www.youtube.com/watch?v=dQw4w9WgXcQ"

# –¢–µ—Å—Ç curl —Å –ø—Ä–æ–∫—Å–∏
curl --proxy socks5h://127.0.0.1:1080 https://www.youtube.com

# –¢–µ—Å—Ç HTTP –∫–ª–∏–µ–Ω—Ç–∞
go run scripts/selftest.go
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
youtubeBot/
‚îú‚îÄ‚îÄ cmd/bot/              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config.go         # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ proxy.go          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏
‚îú‚îÄ‚îÄ services/             # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ youtube.go        # YouTube —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ universal.go      # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ scripts/              # –°–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ selftest.go       # –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ run_selftest.sh   # –ó–∞–ø—É—Å–∫ —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏
‚îú‚îÄ‚îÄ .env                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ env.example)
‚îú‚îÄ‚îÄ env.example           # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ quick_start_proxy.sh  # –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–∫—Å–∏
‚îî‚îÄ‚îÄ README_PROXY.md       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–∫—Å–∏
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `USE_PROXY` | –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏ | `true` |
| `PROXY_URL` | URL –ø—Ä–æ–∫—Å–∏ | `socks5h://127.0.0.1:1080` |
| `NO_PROXY` | –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–∫—Å–∏ | `localhost,127.0.0.1,172.16.0.0/12,192.168.0.0/16` |
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ | - |
| `TELEGRAM_API_URL` | URL Telegram API | `http://127.0.0.1:8081` |

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ø—Ä–æ–∫—Å–∏

- `socks5h://127.0.0.1:1080` - SOCKS5 —Å DNS —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `socks5://127.0.0.1:1080` - SOCKS5 –±–µ–∑ DNS —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
- `http://127.0.0.1:8080` - HTTP –ø—Ä–æ–∫—Å–∏
- `https://127.0.0.1:8080` - HTTPS –ø—Ä–æ–∫—Å–∏

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∫—Å–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å sing-box
systemctl status sing-box

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 1080
netstat -tlnp | grep 1080

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
curl --proxy socks5h://127.0.0.1:1080 https://www.google.com
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å yt-dlp

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ yt-dlp
yt-dlp --version

# –¢–µ—Å—Ç —Å –ø—Ä–æ–∫—Å–∏
yt-dlp --proxy socks5h://127.0.0.1:1080 -s "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Telegram API

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
curl http://127.0.0.1:8081/health

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
systemctl status telegram-bot-api
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–∫—Å–∏
./quick_start_proxy.sh

# –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞
./scripts/run_selftest.sh

# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫
go run cmd/bot/main.go

# –°–±–æ—Ä–∫–∞
go build -o youtubeBot cmd/bot/main.go
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

```bash
# sing-box
sudo systemctl start sing-box
sudo systemctl stop sing-box
sudo systemctl restart sing-box
sudo systemctl status sing-box

# Telegram Bot API
sudo systemctl start telegram-bot-api
sudo systemctl stop telegram-bot-api
sudo systemctl restart telegram-bot-api
sudo systemctl status telegram-bot-api
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
tail -f bot.log

# –õ–æ–≥–∏ sing-box
journalctl -u sing-box -f

# –õ–æ–≥–∏ Telegram API
journalctl -u telegram-bot-api -f
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
ss -tuln | grep 1080

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞
iftop -i lo
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü—Ä–æ–∫—Å–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ (127.0.0.1)
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç—ã –Ω–∞—Ä—É–∂—É
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SOCKS5 –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- DNS –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ (socks5h)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω—Ç–∏-429 –∑–∞–¥–µ—Ä–∂–∫–∏

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `./scripts/run_selftest.sh`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ sing-box —Ä–∞–±–æ—Ç–∞–µ—Ç
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `journalctl -u sing-box -f`

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫!

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ —Å–æ–±–ª—é–¥–∞–π—Ç–µ –∞–≤—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–∞–≤–∞!


