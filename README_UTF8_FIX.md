# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –¥–ª—è YouTube Bot

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `Bad Request: strings must be encoded in UTF-8` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤–∏–¥–µ–æ —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏.

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `fixUTF8Encoding`
- **–§–∞–π–ª**: `cmd/bot/main.go`
- **–§—É–Ω–∫—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫—É —Å—Ç—Ä–æ–∫
- **–ò–º–ø–æ—Ä—Ç**: `unicode/utf8`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `createVideoCaption`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –í—Å–µ –ø–æ–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ `fixUTF8Encoding`
- **–ü–æ–ª—è**: Title, Author, Duration, Views, UploadDate, Description, Resolution

### 3. –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```go
// fixUTF8Encoding –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫—É —Å—Ç—Ä–æ–∫–∏
func fixUTF8Encoding(s string) string {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ –≤–∞–ª–∏–¥–Ω–∞ UTF-8
    if utf8.ValidString(s) {
        return s
    }
    
    // –ï—Å–ª–∏ –Ω–µ –≤–∞–ª–∏–¥–Ω–∞, –∑–∞–º–µ–Ω—è–µ–º –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
    var result strings.Builder
    for _, r := range s {
        if utf8.ValidRune(r) {
            result.WriteRune(r)
        } else {
            result.WriteRune('?')
        }
    }
    return result.String()
}
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
```bash
go build -o youtubeBot cmd/bot/main.go
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
./youtubeBot
```

### 3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ —Å —Ä—É—Å—Å–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- "–°—Ç—Ä–µ–π –∏ –ú–∞–≥–Ω—É—Å #dota #–¥–æ—Ç–∞2 #–¥–æ—Ç–∞ - –¢—Ä–∞–í–æ–ú–∞–ù DotA"
- "–ü—Ä–æ–¥–∞–ª–∞ –î—É—à—É –ó–∞ –ö–æ–ª–ª–µ–∫—Ü–∏—é –õ–∞–±—É–±—É –∏ –ö–æ–Ω—Ü–µ—Ä—Ç –ö–∞–¥—ã—à–µ–≤–æ–π"

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ **–†—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ caption
- ‚úÖ **–ù–µ—Ç –æ—à–∏–±–æ–∫** `Bad Request: strings must be encoded in UTF-8`
- ‚úÖ **–í—Å–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ UTF-8
- ‚úÖ **Fallback** –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –±–æ—Ç –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤–∏–¥–µ–æ —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏:

```
‚úÖ –í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 399
```

–í–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏:
```
‚ùå –û—à–∏–±–∫–∞ sendVideo: 400, –æ—Ç–≤–µ—Ç: {"ok":false,"error_code":400,"description":"Bad Request: strings must be encoded in UTF-8"}
```

## üéØ –ò—Ç–æ–≥

**–ü—Ä–æ–±–ª–µ–º–∞ —Å UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** 

- –†—É—Å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- Caption —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegram

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å –ª—é–±—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≤–∏–¥–µ–æ!** üöÄ



