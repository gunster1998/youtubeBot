# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é YouTube Bot

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **OS:** Linux (Ubuntu 20.04+)
- **RAM:** –ú–∏–Ω–∏–º—É–º 2GB, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4GB+
- **CPU:** 2+ —è–¥—Ä–∞
- **–î–∏—Å–∫:** 50GB+ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **Go:** 1.19+
- **yt-dlp:** –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go
sudo apt update
sudo apt install golang-go

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ yt-dlp
sudo wget -O /usr/local/bin/yt-dlp https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp
sudo chmod +x /usr/local/bin/yt-dlp

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ telegram-bot-api
sudo wget -O /usr/local/bin/telegram-bot-api https://github.com/tdlib/telegram-bot-api/releases/download/v7.7.0/telegram-bot-api-linux
sudo chmod +x /usr/local/bin/telegram-bot-api
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ API –¥–∞–Ω–Ω—ã—Ö Telegram:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://my.telegram.org
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –ü–æ–ª—É—á–∏—Ç–µ `api_id` –∏ `api_hash`

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞:
1. –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª config.env
cat > config.env << EOF
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_API_URL=http://127.0.0.1:8081
API_ID=your_api_id_here
API_HASH=your_api_hash_here
EOF
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
```bash
git clone https://github.com/gunster1998/youtubeBot.git
cd youtubeBot
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
go mod tidy
go mod download
```

### 3. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Telegram API:
```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
nohup /usr/local/bin/telegram-bot-api \
  --api-id=YOUR_API_ID \
  --api-hash=YOUR_API_HASH \
  --local \
  --http-port=8081 \
  --http-ip-address=127.0.0.1 \
  > telegram-api.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞
sleep 3
ps aux | grep telegram-bot-api
netstat -tulpn | grep :8081
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:
```bash
# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
./quick_start.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
./run_async.sh
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ telegram-bot-api
ps aux | grep telegram-bot-api

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞
ps aux | grep youtubeBot_async

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tulpn | grep :8081
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
# –õ–æ–≥–∏ telegram-bot-api
tail -f telegram-api.log

# –õ–æ–≥–∏ –±–æ—Ç–∞ (–≤ –∫–æ–Ω—Å–æ–ª–∏)
# –ë–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –≤ stdout
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞:
1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram –ø–æ –∏–º–µ–Ω–∏
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube –≤–∏–¥–µ–æ
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
pkill -f youtubeBot_async

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ telegram-bot-api
pkill -f telegram-bot-api
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
pkill -f youtubeBot_async
./run_async.sh

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ telegram-bot-api
pkill -f telegram-bot-api
nohup /usr/local/bin/telegram-bot-api \
  --api-id=YOUR_API_ID \
  --api-hash=YOUR_API_HASH \
  --local \
  --http-port=8081 \
  --http-ip-address=127.0.0.1 \
  > telegram-api.log 2>&1 &
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
pkill -f youtubeBot_async
pkill -f telegram-bot-api

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
./quick_start.sh
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã:
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –∏ –ø–∞–º—è—Ç–∏
htop

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
netstat -tulpn | grep :8081
```

### –õ–æ–≥–∏ –±–æ—Ç–∞:
- **–£—Å–ø–µ—à–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏:** `‚úÖ –í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!`
- **–û—à–∏–±–∫–∏:** `‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–∏–¥–µ–æ`
- **–ö—ç—à:** `‚ö° –í–∏–¥–µ–æ –Ω–∞–π–¥–µ–Ω–æ –≤ –∫—ç—à–µ`
- **–û—á–µ—Ä–µ–¥—å:** `üìù –ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –æ—á–µ—Ä–µ–¥—å`

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "connection refused" –Ω–∞ –ø–æ—Ä—Ç—É 8081
```bash
# –†–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç—å telegram-bot-api
nohup /usr/local/bin/telegram-bot-api \
  --api-id=YOUR_API_ID \
  --api-hash=YOUR_API_HASH \
  --local \
  --http-port=8081 \
  --http-ip-address=127.0.0.1 \
  > telegram-api.log 2>&1 &
```

### –ü—Ä–æ–±–ª–µ–º–∞: "yt-dlp not found"
```bash
# –†–µ—à–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å yt-dlp
sudo wget -O /usr/local/bin/yt-dlp https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp
sudo chmod +x /usr/local/bin/yt-dlp
```

### –ü—Ä–æ–±–ª–µ–º–∞: "missing go.sum entry"
```bash
# –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go get github.com/mattn/go-sqlite3
go mod tidy
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í–∏–¥–µ–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞: –õ–æ–≥–∏ –±–æ—Ç–∞
# –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
# - "‚úÖ –ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"
# - "‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–∏–¥–µ–æ"
# - "‚ö†Ô∏è –ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö"
```

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
```go
// –í services/queue.go
downloadQueue := services.NewDownloadQueue(5, youtubeService, cacheService) // –£–≤–µ–ª–∏—á–∏—Ç—å –≤–æ—Ä–∫–µ—Ä–æ–≤

// –í cmd/bot/main_async.go
timeout := time.NewTimer(15 * time.Minute) // –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º:
- **CPU:** 4+ —è–¥–µ—Ä –¥–ª—è 5+ –≤–æ—Ä–∫–µ—Ä–æ–≤
- **RAM:** 4GB+ –¥–ª—è –±–æ–ª—å—à–∏—Ö –≤–∏–¥–µ–æ
- **–î–∏—Å–∫:** SSD –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫—ç—à–∞
- **–°–µ—Ç—å:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **Firewall:** –û—Ç–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–õ–æ–≥–∏:** –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –°–ª–µ–¥–∏—Ç—å –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall:
```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
sudo ufw allow from 127.0.0.1 to any port 8081
sudo ufw deny 8081
```

---

**üéâ –ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏!
