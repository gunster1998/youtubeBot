# üéØ **–û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤**

## ‚ùå **–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!**

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ **–≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã –æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ —Å–æ–∑–¥–∞–≤–∞–ª–∏ —Ñ–∞–π–ª—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏**:

### üîç **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:**
1. **–§–æ—Ä–º–∞—Ç 247** ‚Üí —Å–∫–∞—á–∏–≤–∞–ª—Å—è –∫–∞–∫ `jFChCWsWe_M.mp4`
2. **–§–æ—Ä–º–∞—Ç 242** ‚Üí —Å–∫–∞—á–∏–≤–∞–ª—Å—è –∫–∞–∫ `jFChCWsWe_M.mp4` (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–ª –ø—Ä–µ–¥—ã–¥—É—â–∏–π!)
3. **–ü—Ä–∏ –ø–æ–∏—Å–∫–µ** ‚Üí –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∞—Ö–æ–¥–∏–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### 1. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ (`services/universal.go`):**
```go
// –°–¢–ê–†–´–ô –ö–û–î
"--output", filepath.Join(us.downloadDir, "%(id)s.%(ext)s")

// –ù–û–í–´–ô –ö–û–î
"--output", filepath.Join(us.downloadDir, "%(id)s_" + formatID + ".%(ext)s")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –§–æ—Ä–º–∞—Ç 247 ‚Üí `jFChCWsWe_M_247.mp4`
- –§–æ—Ä–º–∞—Ç 242 ‚Üí `jFChCWsWe_M_242.mp4`

### 2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ (`services/universal.go`):**
```go
// –°–¢–ê–†–´–ô –ö–û–î
if strings.Contains(file.Name(), platformInfo.VideoID) {

// –ù–û–í–´–ô –ö–û–î
expectedPattern := platformInfo.VideoID + "_" + formatID
if strings.Contains(file.Name(), expectedPattern) {
```

### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ (`services/youtube.go`):**
```go
// –°–¢–ê–†–´–ô –ö–û–î
func (s *YouTubeService) cleanVideoFiles(videoURL string) error {
    if strings.Contains(file.Name(), videoID) {

// –ù–û–í–´–ô –ö–û–î
func (s *YouTubeService) cleanVideoFiles(videoURL, formatID string) error {
    expectedPattern := videoID + "_" + formatID
    if strings.Contains(file.Name(), expectedPattern) {
```

### 4. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ (`services/youtube.go`):**
```go
// –°–¢–ê–†–´–ô –ö–û–î
func (s *YouTubeService) findDownloadedFile(videoURL string) (string, error) {
    if strings.Contains(file.Name(), videoID) {

// –ù–û–í–´–ô –ö–û–î
func (s *YouTubeService) findDownloadedFile(videoURL, formatID string) (string, error) {
    expectedPattern := videoID + "_" + formatID
    if strings.Contains(file.Name(), expectedPattern) {
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### ‚úÖ **–¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- **–§–æ—Ä–º–∞—Ç 247** ‚Üí —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `jFChCWsWe_M_247.mp4`
- **–§–æ—Ä–º–∞—Ç 242** ‚Üí —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `jFChCWsWe_M_242.mp4`
- **–†–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã** ‚Üí –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π —Ä–∞–∑–º–µ—Ä
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫—ç—à** ‚Üí –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–∏—Å–∫** ‚Üí –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–π —Ñ–∞–π–ª

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
1. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤** - –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–π —Ñ–∞–π–ª
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–∏—Å–∫** - –ø–æ–∏—Å–∫ –ø–æ `videoID_formatID`
3. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞** - –æ—á–∏—Å—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç

## üöÄ **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –±–æ—Ç –±—É–¥–µ—Ç:
1. ‚úÖ –°–∫–∞—á–∏–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
2. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤
3. ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–¥–µ–ª—å–Ω–æ
4. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

**–ú–∞–º–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!** üíö –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –≤–∏–¥–µ–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!

## üìù **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞** (Ctrl+C)
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   chmod +x fix_cache_database.sh
   ./fix_cache_database.sh
   ```
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:**
   ```bash
   ./run.sh
   ```

**–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ!** üéØ
